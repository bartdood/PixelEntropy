<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>360 Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Pannellum -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"
  />
  <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>

  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #000;
      font-family: sans-serif;
    }

    #panorama {
      width: 100vw;
      height: 100vh;
    }

    .scene-label {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      background: rgba(0,0,0,0.5);
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 14px;
      pointer-events: none;
      z-index: 10;
    }
  </style>
</head>

<body>

<div id="panorama"></div>
<div class="scene-label" id="sceneLabel">Ferry</div>

<script>
const label = document.getElementById("sceneLabel");

pannellum.viewer('panorama', {
  default: {
    autoLoad: true,
    showControls: true,
    compass: true
  },

  scenes: {
    ferry: {
      title: "Ferry",
      type: "equirectangular",
      panorama: "scenes/ferry-sf.jpg",
      yaw: 180,
      hotSpots: [
        {
          pitch: -5,
          yaw: 110,
          type: "scene",
          text: "BART",
          sceneId: "bart"
        }
      ]
    },

    bart: {
      title: "BART",
      type: "equirectangular",
      panorama: "scenes/bart-sf.jpg",
      yaw: 180,
      hotSpots: [
        {
          pitch: -5,
          yaw: -60,
          type: "scene",
          text: "Ferry",
          sceneId: "ferry"
        },
        {
          pitch: -5,
          yaw: 120,
          type: "scene",
          text: "Bay Bridge",
          sceneId: "bridge"
        }
      ]
    },

    bridge: {
      title: "Bay Bridge",
      type: "equirectangular",
      panorama: "scenes/bay-bridge-sf.jpg",
      yaw: 180,
      hotSpots: [
        {
          pitch: -5,
          yaw: -80,
          type: "scene",
          text: "BART",
          sceneId: "bart"
        }
      ]
    }
  }
});

// Update scene label on change
document.addEventListener("pannellum:scenechange", function (e) {
  label.textContent = e.sceneId.charAt(0).toUpperCase() + e.sceneId.slice(1);
});
</script>

</body>
</html>
